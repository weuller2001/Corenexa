<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../img/ico.png" />
    <title>Gest√£o 360¬∫ - CoreNexa</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-GBYZSDWBYW">
	</script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-GBYZSDWBYW');
	</script>
</head>
<body>
    
    <header>
        <div class="logo">
            <a href="../index.html">
                <img src="../img/logo-corenexa.png" alt="CoreNexa Solu√ß√µes em TI">
            </a>
        </div>

        <div class="mobile-menu-icon">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <nav>
            <ul class="nav-links">
                <li><a href="../index.html">In√≠cio</a></li>
                
                <li class="dropdown-item">
                    <a href="pageServicos.html" class="dropdown-link" style="color:var(--azul); font-weight:700;">Servi√ßos ‚ñæ</a>
                    <ul class="dropdown-menu">
						<li><a href="gestao360.html">Gest√£o de TI 360¬∫</a></li>
						<li><a href="suporteTI.html">Suporte de TI</a></li>
						<li><a href="servicosAvulsos.html">Servi√ßos Avulsos</a></li>
                    </ul>
                </li>
            
                <li><a href="pageSobre.html">Sobre</a></li>
                <li><a href="pageContato.html">Contato</a></li>
            </ul>
        </nav>
    </header>
    
    <section class="intro-gestao">
        <div class="container-intro">
            <span class="tag-destaque">üöÄ Controle Total</span>
            <h1>Sua TI funcionando como um <br><span>Rel√≥gio Su√≠√ßo</span></h1>
            <p>A Gest√£o 360¬∫ da CoreNexa unifica suporte, seguran√ßa e estrat√©gia. Escolha o n√≠vel de maturidade ideal para sua empresa.</p>
        </div>
    </section>

    <section class="pricing-section">
        <div class="section-header">
            <h2>Planos <span>Padronizados</span></h2>
            <p>Solu√ß√µes prontas com o melhor custo-benef√≠cio anual.</p>
        </div>

        <div class="pricing-grid">
            
            <div class="plan-card">
                <h3 class="plan-name">B√°sico</h3>
                <p class="plan-limit">At√© 8 Dispositivos</p>
                
                <div class="price-box">
                    <span class="currency">R$</span>
                    <span class="value">530,20</span>
                    <span class="period">/m√™s (Anual)</span>
                </div>
                <p class="contract-info">Semestral: R$ 795,30 | Trimestral: R$ 927,85</p>
                <p class="extra-pc">PC Adicional: R$ 80,00</p>
                
                <ul class="features-list">
                    <li>Antiv√≠rus Gerenciado</li>
                    <li>Backup Nuvem (100GB)</li>
                    <li>Suporte de TI Remoto</li>
                    <li>Limpeza de Arquivos e Otimiza√ß√£o do Computador</li>
                </ul>

                <a href="pageContato.html?plano=Basico" class="btn-plan btn-outline">Escolher B√°sico</a>
            </div>

            <div class="plan-card popular">
                <div class="popular-tag">Mais Escolhido</div>
                <h3 class="plan-name">Intermedi√°rio</h3>
                <p class="plan-limit">At√© 16 Dispositivos</p>

                <div class="price-box">
                    <span class="currency">R$</span>
                    <span class="value">1.667,60</span>
                    <span class="period">/m√™s (Anual)</span>
                </div>
                <p class="contract-info">Semestral: R$ 2.501,40 | Trimestral: R$ 2.918,30</p>
                <p class="extra-pc">PC Adicional: R$ 160,00</p>
                
                <ul class="features-list">
                    <li class="included">Tudo do B√°sico +</li>
                    <li>Backup Nuvem (200GB)</li>
                    <li>VPN Corporativa</li>
                    <li>Hospedagem de Site</li>
                    <li>E-mail Corporativo</li>
                </ul>

                <a href="pageContato.html?plano=Intermediario" class="btn-plan btn-filled">Escolher Intermedi√°rio</a>
            </div>

            <div class="plan-card">
                <h3 class="plan-name">Profissional</h3>
                <p class="plan-limit">At√© 32 Dispositivos</p>

                <div class="price-box">
                    <span class="currency">R$</span>
                    <span class="value">4.005,65</span>
                    <span class="period">/m√™s (Anual)</span>
                </div>
                <p class="contract-info">Semestral: R$ 6.008,48 | Trimestral: R$ 7.009,89</p>
                <p class="extra-pc">PC Adicional: R$ 240,00</p>
                
                <ul class="features-list">
                    <li class="included">Tudo do Intermedi√°rio +</li>
                    <li>Backup Nuvem (2TB)</li>
                    <li>Visitas Presenciais (at√© 4 por m√™s)</li>
                    <li>Gest√£o de Infraestrutura</li>
                    <li>Gest√£o de Fornecedores</li>
                </ul>

                <a href="pageContato.html?plano=Profissional" class="btn-plan btn-outline">Escolher Profissional</a>
            </div>

        </div>
    </section>

    <section class="custom-plan" id="personalizado">
        <div class="container">
            <div class="custom-header">
                <h2>Monte seu Plano <span>Personalizado</span></h2>
                <p>Selecione apenas o que sua empresa precisa e veja uma estimativa na hora.</p>
            </div>

            <div class="calculator-wrapper">
                <div class="calc-form">
                    
                    <div class="calc-group">
                        <label>Quantidade de Dispositivos (PCs/Notebooks):</label>
                        <input type="number" id="numDevices" value="5" min="1" max="100" onchange="calcularPlano()">
                    </div>

                    <div class="calc-group">
                        <label>Vig√™ncia do Contrato:</label>
                        <select id="contractDuration" onchange="calcularPlano()">
                            <option value="12">12 Meses (Melhor Pre√ßo)</option>
                            <option value="6">6 Meses</option>
                            <option value="3">3 Meses</option>
                        </select>
                    </div>

                    <label class="section-label">Selecione os Servi√ßos:</label>
                    <div class="services-list">
                        
						<div class="select-box-wrapper">
                            <label for="selBackup" class="inline-label">Backup em Nuvem:</label>
                            <select id="selBackup" onchange="calcularPlano()" class="styled-select">
                                <option value="0">N√£o preciso de Backup</option>
                                <option value="110">100 GB (R$ 110,00)</option>
                                <option value="150">200 GB (R$ 150,00)</option>
                                <option value="500">2 TB (R$ 500,00)</option>
                            </select>
                        </div>
						
                        <label class="check-box">
                            <input type="checkbox" id="chkAntivirus" checked onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            Antiv√≠rus Gerenciado
                        </label>

                        <label class="check-box">
                            <input type="checkbox" id="chkVPN" onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            VPN Corporativa
                        </label>

                        <label class="check-box">
                            <input type="checkbox" id="chkEmail" onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            E-mail Corporativo
                        </label>

                        <label class="check-box">
                            <input type="checkbox" id="chkSite" onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            Hospedagem de Site
                        </label>

                        <label class="check-box">
                            <input type="checkbox" id="chkVisita" onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            Visitas Presenciais
                        </label>

                        <label class="check-box">
                            <input type="checkbox" id="chkInfra" onchange="calcularPlano()">
                            <span class="checkmark"></span>
                            Gest√£o de Infraestrutura
                        </label>
                    </div>
                </div>

                <div class="calc-result">
                    <h3>Estimativa do Plano</h3>
                    <div class="total-price">
                        <small>Total Mensal:</small>
                        R$ <span id="totalValue">0,00</span>
                    </div>
                    <ul id="summaryList" class="summary-list">
                        </ul>
                    <p class="note">*Valores estimados. Sujeito a an√°lise t√©cnica.</p>
                    <a href="pageContato.html?plano=Personalizado" class="btn-cta">Solicitar Proposta Oficial</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <img src="../img/logo-corenexa.png" alt="CoreNexa" class="footer-logo-img">
        <p>Conectando o presente ao futuro da tecnologia.</p>
        <br>
        <p>¬© 2025 CORENEXA Solu√ß√µes em TI. Todos os direitos reservados.</p>
    </footer>

    <script src="../script.js"></script>
    
    <script>
        function calcularPlano() {
            // 1. Captura valores
            let qtd = parseInt(document.getElementById('numDevices').value) || 0;
            const meses = parseInt(document.getElementById('contractDuration').value);
            
            // 2. C√ÅLCULO PROGRESSIVO DO SUPORTE
            let custoSuporte = 0;
            let qtdRestante = qtd;

            // Faixa 1: Primeiros 8 dispositivos (R$ 80,00)
            if (qtdRestante > 0) {
                let qtdFaixa1 = Math.min(qtdRestante, 8);
                custoSuporte += qtdFaixa1 * 80.00;
                qtdRestante -= qtdFaixa1;
            }

            // Faixa 2: Pr√≥ximos 8 dispositivos (R$ 160,00) -> do 9 ao 16
            if (qtdRestante > 0) {
                let qtdFaixa2 = Math.min(qtdRestante, 8);
                custoSuporte += qtdFaixa2 * 160.00;
                qtdRestante -= qtdFaixa2;
            }

            // Faixa 3: O que sobrar acima de 16 (R$ 240,00)
            if (qtdRestante > 0) {
                custoSuporte += qtdRestante * 240.00;
            }

            // Taxa administrativa m√≠nima (opcional, mantida para consist√™ncia)
            if (qtd > 0 && qtd < 5) custoSuporte += 150;

            // 3. Montagem do Total
            let total = 0;
            let resumo = [];

            // Adiciona Suporte
            total += custoSuporte;
            resumo.push(`Suporte TI (${qtd} disp.): R$ ${custoSuporte.toFixed(2)}`);

            // --- NOVO C√ÅLCULO DE BACKUP ---
            const selBackup = document.getElementById('selBackup');
            const custoBackup = parseFloat(selBackup.value) || 0;
            const nomeBackup = selBackup.options[selBackup.selectedIndex].text;

            if (custoBackup > 0) {
                total += custoBackup;
                // Exibe apenas o nome (Ex: "100 GB") sem o pre√ßo no texto do resumo, pois j√° est√° somado
                // Ou formatamos para ficar bonito:
                resumo.push(`Backup Nuvem (${nomeBackup.split('(')[0].trim()}): R$ ${custoBackup.toFixed(2)}`);
            }

            // Outros Servi√ßos (Por dispositivo)
            const precoAntivirus = 20.00;
            const precoEmail = 15.00;
            
            if (document.getElementById('chkAntivirus').checked) {
                let val = qtd * precoAntivirus;
                total += val;
                resumo.push(`Antiv√≠rus: R$ ${val.toFixed(2)}`);
            }
            if (document.getElementById('chkEmail').checked) {
                let val = qtd * precoEmail;
                total += val;
                resumo.push(`E-mail Corp: R$ ${val.toFixed(2)}`);
            }
            
            // Servi√ßos Fixos
            const precoVPN = 150.00;
            const precoSite = 100.00;
            const precoVisita = 400.00; 
            const precoInfra = 250.00;

            if (document.getElementById('chkVPN').checked) {
                total += precoVPN;
                resumo.push(`VPN Corporativa: R$ ${precoVPN.toFixed(2)}`);
            }
            if (document.getElementById('chkSite').checked) {
                total += precoSite;
                resumo.push(`Hospedagem Site: R$ ${precoSite.toFixed(2)}`);
            }
            if (document.getElementById('chkVisita').checked) {
                total += precoVisita;
                resumo.push(`Visitas Presenciais: R$ ${precoVisita.toFixed(2)}`);
            }
            if (document.getElementById('chkInfra').checked) {
                total += precoInfra;
                resumo.push(`Gest√£o Infra: R$ ${precoInfra.toFixed(2)}`);
            }

            // 4. Fator do Contrato
            let fator = 1;
            if (meses === 6) fator = 1.5;
            if (meses === 3) fator = 1.75;

            let totalFinal = total * fator;

            // 5. Atualiza Interface
            document.getElementById('totalValue').innerText = totalFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            
            const lista = document.getElementById('summaryList');
            lista.innerHTML = '';
            resumo.forEach(item => {
                let li = document.createElement('li');
                li.innerText = item;
                lista.appendChild(li);
            });
            
            if(fator > 1) {
                let li = document.createElement('li');
                li.style.color = 'var(--laranja)';
                li.style.fontWeight = 'bold';
                li.innerText = `Acr√©scimo vig√™ncia curta (${meses} meses)`;
                lista.appendChild(li);
            }
        }

        window.onload = calcularPlano;
    </script>
</body>
</html>